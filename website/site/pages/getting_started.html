<!-- Connection Details -->
<div style="height:10px"></div>
<div class="row">
	<div class="col-sm-6">
		<h3><span data-tkey="connectionDetails">Connection Details</span></h3>
		<div class="card padding-l-10 padding-r-10">
			<div class="stats">
				<div><i class="fa fa-cloud"></i> <span data-tkey="miningPoolHost">Mining Pool Address</span>: <span id="miningPoolHost"></span></div>
				<div><i class="fa fa-cubes"></i> <span data-tkey="algorithm">Algorithm</span>: <span id="algorithm"></span></div>
			</div>
		</div>

		<h4 class="push-up-15"><span data-tkey="username">Username<span></h4>
		<div class="card padding-l-10 padding-r-10">
			<div class="stats">
				<div><i class="fa fa-key"></i> <span data-tkey="usernameDesc">This is your wallet address</span></div>
				<div id="paymentId"><i class="fa fa-exchange"></i> <span data-tkey="paymentId">Solo Mining</span>: <u data-tkey="soloID">solo</u><span id="soloIDSeparator">~</span><span><u data-tkey="parentaddress">walletaddress</u></span></div>
				<div id="paymentId"><i class="fa fa-exchange"></i> <span data-tkey="paymentId">Exchange Payment ID</span>: <span><u data-tkey="parentaddress">walletaddress</u><span id="paymentIdSeparator">+</span><u data-tkey="addrPaymentId">paymentID</u></span></div>
				<div id="fixedDiff"><i class="fa fa-wrench"></i> <span data-tkey="fixedDiff">Difficulty Locking</span>: <span><u data-tkey="parentaddress">walletaddress</u><span id="fixedDiffSeparator">.</span><u data-tkey="addrDiff">diff</u></span></div>
				<div id="fixedDiff"><i class="fa fa-wrench"></i> <span data-tkey="fixedDiff">Worker Defining</span>: <span><u data-tkey="parentaddress">walletaddress</u><span id="workerIDSeparator">@</span><u data-tkey="workerName">worker</u></span></div>
				<div id="fixedDiff"><i class="fa fa-money"></i> <span data-tkey="fixedDiff">Hash Donation</span>: <span><u data-tkey="parentaddress">walletaddress</u><span id="hashDonationSeparator">%</span><u data-tkey="workerName">1</u></span></div>
			</div>
		</div>
	</div>

	<!-- Mining ports -->
	<div class="col-sm-6">
		<h3><span data-tkey="miningPorts">Mining Ports</span></h3>
		<div class="card">
			<div id="miningPorts" class="table-responsive">
				<table class="table table-hover table-striped">
					<thead>
						<tr>
							<th class="col1"><span data-tkey="port">Port</span></th>
							<th class="col2"><span data-tkey="portDiff">Starting Difficulty</span></th>
							<th class="col3"><span data-tkey="description">Description</span></th>
						</tr>
					</thead>
					<tbody id="miningPorts_rows">
						<tr>
							<td class="col1"><span class="miningPort"></span></td>
							<td class="col2"><span class="miningPortDiff"></span></td>
							<td class="col3"><span class="miningPortDesc"></span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

</div>

<h4 class="push-up-15"><span data-tkey="donations">Donations<span></h4>
<div class="card padding-l-10 padding-r-10">
	<div class="stats">
		<div><i class="fa fa-money"></i> <span data-tkey="donationsDesc">Donation Address: </span><span id="donationAddress"></span></div>
		<div><i class="fa fa-money"></i> <span data-tkey="donationsDesc">Donation Description: </span><span id="donationDescription"></span></div>
	</div>
</div>

<!-- Mining Applications and Configuration Generator -->
<h3><span data-tkey="miningApps">Mining Applications</span></h3>

<!-- Configuration Generator -->
<div class="card padding-15">
	<p><span data-tkey="configGeneratorDesc">Generate your custom configuration to mine on our pool</span></p>
	<div id="configGenerator" class="row">
		<div class="col-sm-3 col-xs-8">
			<div class="input-group push-down-5">
				<span class="input-group-addon"><i class="fa fa-link"></i></span>
				<select class="form-control" id="gMiningPort"></select>
			</div>
		</div>
		<div class="col-sm-3 col-xs-4">
			<div class="input-group push-down-5">
				<span style="white-space: nowrap;">Solo Mining
					<label><input type="checkbox" name="solo" id="gSolo" value="1" title="Check if want to mine both pools solo"></label>
				</span>
			</div>
		</div>
		<div class="col-sm-6 col-xs-12">
			<div class="input-group push-down-5">
				<span class="input-group-addon"><i class="fa fa-server"></i></span>
				<input class="form-control" id="gWorkerName" data-tplaceholder="workerNameField" type="text" placeholder="Worker Name (optional)" />
			</div>
		</div>
		<div class="col-sm-6 col-xs-12">
			<div class="input-group push-down-5">
				<span class="input-group-addon"><i class="fa fa-key"></i></span>
				<input class="form-control" id="gAddress" type="text" data-tplaceholder="addressField" placeholder="Wallet Address" required="required" />
			</div>
		</div>
		<div class="col-sm-6 col-xs-12">
			<div class="input-group push-down-5">
				<span class="input-group-addon"><i class="fa fa-exchange"></i></span>
				<input class="form-control" id="gPaymentID" type="text" data-tplaceholder="paymentIdField" placeholder="Payment ID (optional)" />
			</div>
		</div>
		<div class="col-sm-6 col-xs-12">
			<div class="input-group push-down-5">
				<span class="input-group-addon"><i class="fa fa-wrench"></i></span>
				<input class="form-control" id="gDifficulty" type="text" data-tplaceholder="fixedDiffField" placeholder="Fixed difficulty (optional)" />
			</div>
		</div>
		<div class="col-sm-6 col-xs-12">
			<div class="input-group push-down-5">
				<span class="input-group-addon"><i class="fa fa-money"></i></span>
				<input class="form-control" id="gDonation" type="text" data-tplaceholder="donationField" placeholder="Pool Donation % [0-100] (optional)" />
			</div>
		</div>
		<div class="col-md-12 push-up-5">
			<input id="generateConf" type="submit" tvalue="generateConfig" value="Generate configuration" class="btn btn-default" data-toggle="collapse" href="#derominer" />
		</div>
	</div>
</div>

<!-- Mining Applications -->
<div class="card push-up-5">
	<div id="miningApps" class="table-responsive">
		<table class="table">
			<thead>
				<tr>
					<th><i class="fa fa-book"></i> <span data-tkey="appName">App Name</span></th>
					<th><i class="fa fa-car"></i> <span data-tkey="appArch">Architecture</span></th>
					<th><i class="fa fa-star"></i> <span data-tkey="appDesc">Description</span></th>
					<th><i class="fa fa-download"></i> <span data-tkey="download">Download</span></th>
					<th><i class="fa fa-file-code-o"></i> <span data-tkey="configuration">Configuration</span></th>
				</tr>
			</thead>
			<tbody id="miningApps_rows">

				<!-- DERO Miner -->
				<tr class="appInfo">
					<td class="miningAppTitle">DERO Miner</td>
					<td>CPU</td>
					<td>Official DERO CPU Mining App</td>
					<td><a class="btn btn-success" target="_blank" href="https://github.com/deroproject/derosuite/pull/22"><span data-tkey="download">Coming Soon</span></a></td>
					<td><a class="btn btn-default" role="button" data-toggle="collapse" href="#derominer" aria-expanded="true" aria-controls="collapseExample"><span data-tkey="showConfig">See more</span></a></td>
				</tr>
				<tr class="appConfig">
					<td colspan="5">
						<div class="collapse" id="derominer">

							<pre><code>dero-miner-windows-amd64.exe --wallet-address=<span class="exampleLogin">YOUR_WALLET_ADDRESS</span> --pool-address=<span class="exampleHost">POOL_HOST</span>:<span class="examplePort">PORT</span></code></pre>

						</div>
					</td>
				</tr>

				<!-- XMRig -->
				<tr class="appInfo">
					<td class="miningAppTitle">XMRig</td>
					<td>CPU & GPU (NVIDIA)</td>
					<td>Easy to use CPU + GPU Mining App</td>
					<td><a class="btn btn-success" target="_blank" href="https://github.com/xmrig/xmrig/releases/latest"><span data-tkey="download">Download</span></a></td>
					<td><a class="btn btn-default" role="button" data-toggle="collapse" href="#xmrig" aria-expanded="true" aria-controls="collapseExample"><span data-tkey="showConfig">See more</span></a></td>
				</tr>
				<tr class="appConfig">
					<td colspan="5">
						<div class="collapse" id="xmrig">

							<pre><code>"pools": [
				{
				"algo": "<span id="exampleAlgorithm"></span>"
				"coin": "<span id="coin"></span>"
				"url": "<span class="exampleHost">POOL_HOST</span>:<span class="examplePort">PORT</span>",
				"user": "<span class="exampleLogin">YOUR_WALLET_ADDRESS</span>",
				"rig_id": null,
				"pass": "",
				"nicehash": false,
				"tls": false, /* Set to true if you are using an SSL port */
				"tls-fingerprint": null,
				},
				],</code></pre>

						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>

<!-- Javascript -->
<script>
	// Cleanup mining ports
	var lastPortsJson = '';
	var $miningPorts = $('#miningPorts_rows');
	var miningPortTemplate = $miningPorts.html();
	$miningPorts.empty();

	var $miningPortSelect = $('#gMiningPort');
	$miningPortSelect.empty();

	// Update current page
	currentPage = {
		destroy: function () {},
		update: function (updateKey) {
			var portsJson = JSON.stringify(lastStats.config.ports);
			if (lastPortsJson !== portsJson) {
				lastPortsJson = portsJson;
				var $miningPortChildren = [];
				var $miningPortOptions = [];
				for (var i = 0; i < lastStats.config.ports.length; i++) {
					var portData = lastStats.config.ports[i];
					var $portChild = $(miningPortTemplate);
					$portChild.find('.miningPort')
						.text(portData.port);
					$portChild.find('.miningPortDiff')
						.text(portData.diff);
					$portChild.find('.miningPortDesc')
						.text(portData.desc);
					$miningPortChildren.push($portChild);
					$miningPortOptions.push('<option value="' + portData.port + '">' + portData.port + ' &ndash; ' + portData.desc + '</option>');
				}
				$miningPorts.empty()
					.append($miningPortChildren);
				$miningPortSelect.empty()
					.append($miningPortOptions);
				updateTextClasses('examplePort', lastStats.config.ports[0].port.toString());
			}

			updateText('miningPoolHost', lastStats.config.poolHost);
			updateTextClasses('exampleHost', lastStats.config.poolHost);
			updateText('paymentIdSeparator', lastStats.config.payIDAddressSeparator);
			updateText('fixedDiffSeparator', lastStats.config.fixedDiffAddressSeparator);
			updateText('workerIDSeparator', lastStats.config.workIDAddressSeparator);
			updateText('soloIDSeparator', lastStats.config.soloIDSeparator);
			updateText('hashDonationSeparator', lastStats.config.hashDonationSeparator);
			updateText('donationAddress', lastStats.config.donationAddress);
			updateText('donationDescription', lastStats.config.donationDescription);

			updateText('algorithm', lastStats.config.algo);
			updateText('exampleAlgorithm', lastStats.config.algo);
			updateText('coin', lastStats.config.coin.toLowerCase());
		}
	};

	/**
	 * Configuration generator
	 **/

	$('#generateConf')
		.click(function () {
			// Mining Port
			var port = $('#gMiningPort')
				.val();
			updateTextClasses('examplePort', port);

			// Username
			var address = $('#gAddress')
				.val()
				.replace(/\s+/g, '')
				.trim();
			var solo = $('#gSolo')
				.val();
			var paymentID = $('#gPaymentID')
				.val()
				.replace(/\s+/g, '')
				.trim();
			var difficulty = parseInt($('#gDifficulty')
				.val()
				.replace(/\s+/g, '')
				.trim());
			var workerName = $('#gWorkerName')
				.val()
				.replace(/\s+/g, '')
				.trim();
			var donation = parseInt($('#gDonation')
				.val()
				.replace(/\s+/g, '')
				.trim());

			var login = address ? address : 'YOUR_WALLET_ADDRESS';
			if (donation) login = login + lastStats.config.hashDonationSeparator + donation;
			if (paymentID) login = login + lastStats.config.payIDAddressSeparator + paymentID;
			if (difficulty) login = login + lastStats.config.fixedDiffAddressSeparator + difficulty;
			if (workerName) login = login + lastStats.config.workIDAddressSeparator + workerName;
			if ($('input[name=solo]')
				.is(':checked')) login = `solo${lastStats.config.soloIDSeparator}${login}`
			updateTextClasses('exampleLogin', login);
		});

</script>
